(this["webpackJsonptrivia-battle"]=this["webpackJsonptrivia-battle"]||[]).push([[0],{11:function(e,a,t){e.exports=t.p+"static/media/wrong.093eed4f.mp3"},14:function(e,a,t){e.exports=t.p+"static/media/click.8d084854.mp3"},15:function(e,a,t){e.exports=t.p+"static/media/jeopardy.0b4493b3.mp3"},16:function(e,a,t){e.exports=t.p+"static/media/ding.87b25ba2.mp3"},17:function(e,a,t){e.exports=t(31)},28:function(e,a,t){},30:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(5),l=t.n(c),o=t(2),s=(t(28),t(4)),i=t.n(s),u=t(7),p=t(1),m=(t(30),t(3));var y=function(e){var a=e.message,t=e.button,n=e.onClick;return r.a.createElement("div",{className:"alert"},r.a.createElement("p",null,a),r.a.createElement("button",{onClick:n},t))};var d=Object(o.b)((function(e){return{topics:e.topics}}),null)((function(e){var a=e.availableTopics,t=e.dispatch,c=Object(n.useState)([]),l=Object(p.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)("P1"),u=Object(p.a)(i,2),d=u[0],b=u[1],E=Object(n.useState)("P2"),f=Object(p.a)(E,2),v=f[0],h=f[1],O=Object(n.useState)(!1),j=Object(p.a)(O,2),g=j[0],w=j[1],S=function(e){for(var t=e.target.value,n=!1,r=0;r<o.length;r++)if(o[r].id===a[t].id){n=!0;var c=Object(m.a)(o);return c.splice(r,1),void s(c)}if(!n){var l=Object(m.a)(o);l.push(a[t]),s(l)}};return r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{className:"selectTopicDiv",onSubmit:function(e){e.preventDefault(),o.length>=4?t({type:"SELECT_TOPICS",topic:o,name1:d,name2:v}):w(!0)}},r.a.createElement("p",null,"Please enter the player's names and select at least 4 topics. Each player will answer 5 random questions related to the topics selected and the player with most points at the end of the game wins! The player can select the level of difficulty for each questions and will rcieve points depending on the level selected. Let the wisest player win!"),r.a.createElement("div",{className:"playersNames"},r.a.createElement("label",{htmlFor:"playerOne"},"Player One: "),r.a.createElement("input",{type:"text",id:"playerOne",onChange:function(e){b(e.target.value)},value:d,required:!0}),r.a.createElement("label",{htmlFor:"playerTwo"},"Player Two: "),r.a.createElement("input",{type:"text",id:"playerTwo",onChange:function(e){h(e.target.value)},value:v,required:!0})),r.a.createElement("ul",{className:"topicsContainer"},a.map((function(e,a){return r.a.createElement("li",{className:"topicElement",key:a},r.a.createElement("input",{tabIndex:0,onChange:S,type:"checkbox",name:e.name,id:e.name,value:a}),r.a.createElement("label",{htmlFor:e.name},e.name))}))),g?r.a.createElement(y,{message:"Please select at least 4 topics from the list!",button:"OK",onClick:function(){w(!1)}}):"",r.a.createElement("button",{disabled:g,type:"submit"},"START")))})),b=t(14),E=t.n(b);var f=function(){return r.a.createElement("div",{className:"loaderContainer"},r.a.createElement("div",{className:"loader"}),r.a.createElement("p",null,"Loading..."))};var v=Object(o.b)((function(e){return{topics:e.topics,player:e.players[e.player].name}}),null)((function(e){var a=e.topics,t=e.player,c=e.dispatch,l=Object(n.useState)(!1),o=Object(p.a)(l,2),s=o[0],m=o[1],y=Object(n.useState)(a[0]),d=Object(p.a)(y,2),b=d[0],v=d[1],h=Object(n.useState)("easy"),O=Object(p.a)(h,2),j=O[0],g=O[1],w=Object(n.useState)(!1),S=Object(p.a)(w,2),T=S[0],C=S[1],N=function(e){g(e.target.value)},k=function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),n="https://opentdb.com/api.php?amount=1&category=".concat(a.id,"&difficulty=").concat(t,"&type=multiple&encode=url3986"),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:l=e.sent,c({type:"SET_QUESTION",question:l.results[0]}),m(!1),C(!1);case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"rouletteDiv"},T&&r.a.createElement(f,null),r.a.createElement("h2",null,"".concat(t,"'s turn")),r.a.createElement("p",{className:"rouletteCategory"}," ",r.a.createElement("span",null,"Category:")," ","".concat(b.name)),r.a.createElement("div",{className:"rouletteRadioButtons"},r.a.createElement("input",{disabled:s,type:"radio",name:"easy",value:"easy",id:"easy",checked:"easy"===j,onChange:N}),r.a.createElement("label",{htmlFor:"easy"},"Easy (1pt)"),r.a.createElement("input",{disabled:s,type:"radio",name:"medium",id:"medium",value:"medium",checked:"medium"===j,onChange:N}),r.a.createElement("label",{htmlFor:"medium"},"Medium (2pt)"),r.a.createElement("input",{disabled:s,type:"radio",name:"hard",id:"hard",value:"hard",checked:"hard"===j,onChange:N}),r.a.createElement("label",{htmlFor:"hard"},"Hard (3pt)")),r.a.createElement("button",{disabled:s,onClick:function(){m(!0);var e=0,t="",n=Math.floor(3e3*Math.random()+1e3),r=new Audio(E.a),c=setInterval((function(){r.play(),t=a[e],v(t),e===a.length-1?e=0:e++}),100);setTimeout((function(){clearInterval(c),r.pause(),k(t,j)}),n)}},"Spin"))}));var h=Object(o.b)((function(e){return{playerOneName:e.players.player1.name,playerTwoName:e.players.player2.name,playerOneScore:e.players.player1.score,playerTwoScore:e.players.player2.score,turn:e.turn}}),null)((function(e){var a=e.playerOneName,t=e.playerTwoName,n=e.playerOneScore,c=e.playerTwoScore,l=e.turn;return r.a.createElement("div",{className:"scoreBoard"},r.a.createElement("h3",null,l<5?"Turns Remaning: ".concat(6-l):"Last Turn!"),r.a.createElement("div",{className:"playersScores"},r.a.createElement("p",null," ",r.a.createElement("span",null,"".concat(a,": "))," ","".concat(n)),r.a.createElement("p",null,"VS"),r.a.createElement("p",null,r.a.createElement("span",null,"".concat(t,": ")),"".concat(c))))})),O=t(15),j=t.n(O),g=t(16),w=t.n(g),S=t(11),T=t.n(S);var C=Object(o.b)((function(e){return{player:e.players[e.player].name}}),null)((function(e){var a=e.question,t=e.dispatch,c=e.player,l=[].concat(Object(m.a)(a.incorrect_answers),[a.correct_answer]).sort((function(){return.5-Math.random()})),o=Object(n.useState)(),s=Object(p.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)(15),b=Object(p.a)(d,2),E=b[0],f=b[1],v=Object(n.useState)(new Audio(j.a)),h=Object(p.a)(v,2),O=h[0],g=h[1],S=Object(n.useState)(l),C=Object(p.a)(S,1)[0];Object(n.useEffect)((function(){E>=10&&O.play();var e=setTimeout((function(){0===E?(clearTimeout(e),O.pause(),g(new Audio(T.a)),u(0)):void 0===i&&f(E-1)}),1e3)}),[E]),Object(n.useEffect)((function(){O.play()}),[O]);var N=function(e){if(e.target.value===a.correct_answer)switch(O.pause(),g(new Audio(w.a)),a.difficulty){case"easy":u(1);break;case"medium":u(2);break;default:u(3)}else O.pause(),g(new Audio(T.a)),u(0)};return r.a.createElement("div",{className:"questionContainer"},r.a.createElement("div",{className:"timer"},r.a.createElement("i",{className:"fas fa-stopwatch","aria-label":"Timer:"}),r.a.createElement("div",{className:"timerContainer"},r.a.createElement("div",{className:"timerInner",style:{width:"".concat(100-100/15*(15-E),"%"),backgroundColor:"".concat(E>5?"gold":"var(--brightColour)")}}))),r.a.createElement("h2",null,"Category: ".concat(unescape(a.category))),r.a.createElement("h3",null,unescape(a.question)),r.a.createElement("div",{className:"options"},C.map((function(e){return r.a.createElement("button",{disabled:i>=0,onClick:N,value:e},unescape(e))}))),void 0!==i?r.a.createElement(y,{message:0===i?"".concat(c," Your answer was incorrect!"):"CORRECT ".concat(c,"! You win ").concat(i," ").concat(i>1?"points.":"point."),button:"OK",onClick:function(){t(function(e){return{type:"ANSWER",points:e}}(i))}}):"")}));var N=Object(o.b)((function(e){return{question:e.question,turn:e.turn,playerOneScore:e.players.player1.score,playerTwoScore:e.players.player2.score,playerOne:e.players.player1.name,playerTwo:e.players.player2.name}}),null)((function(e){var a=e.question,t=e.turn,n=e.playerOneScore,c=e.playerTwoScore,l=e.playerOne,o=e.playerTwo,s=e.dispatch;return r.a.createElement("div",{className:"gameBoard wrapper"},r.a.createElement(h,null),null!==a?r.a.createElement(C,{question:a}):r.a.createElement(v,null),6!==t?"":r.a.createElement(y,{message:n===c?"It's a tie! Play again and see who wins!":n>c?"".concat(l," Wins !!! Hey ").concat(o," can you beat ").concat(l,"? Ask for a REMATCH!"):"".concat(o," Wins!!! Hey ").concat(l," can you beat ").concat(o,"? Ask for a REMATCH!"),button:"Restart",onClick:function(){s({type:"RESTART"})}}))}));var k=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Trivia ",r.a.createElement("span",null,"Battle")))};var q=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Created by Juan Acaiturri-Villa \xa9 2020"))};var x=Object(o.b)((function(e){return{topics:e.topics,players:e.players,question:e.question,turn:e.turn}}),null)((function(e){var a=e.topics,t=(e.players,e.question,e.turn,Object(n.useState)([])),c=Object(p.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(!0),m=Object(p.a)(s,2),y=m[0],b=m[1];function E(){return(E=Object(u.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n.trivia_categories),b(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e){E.apply(this,arguments)}("https://opentdb.com/api_category.php")}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(k,null),y?r.a.createElement(f,null):a.length?r.a.createElement(N,null):r.a.createElement(d,{availableTopics:l}),r.a.createElement(q,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=t(6),R={topics:[],players:{player1:{name:"",score:0},player2:{name:"",score:0}},turn:1,player:"player1",question:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SELECT_TOPICS":return console.log(a.topic),Object.assign({},e,{topics:Object(m.a)(a.topic),players:{player1:{name:a.name1,score:0},player2:{name:a.name2,score:0}},player:"player1"});case"SET_QUESTION":return Object.assign({},e,{question:a.question});case"ANSWER":return Object.assign({},e,{question:null,player:"player1"===e.player?"player2":"player1",turn:"player2"===e.player?e.turn+1:e.turn,players:{player1:{score:"player1"===e.player?e.players.player1.score+a.points:e.players.player1.score,name:e.players.player1.name},player2:{score:"player2"===e.player?e.players.player2.score+a.points:e.players.player2.score,name:e.players.player2.name}}});case"RESTART":return Object.assign({},R);default:return e}},P=Object(A.b)(I);l.a.render(r.a.createElement(o.a,{store:P},r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.e1f3d519.chunk.js.map